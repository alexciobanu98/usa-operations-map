<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Tracking - Wireless Construction Management</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <div class="logo-title">
                    <img src="assets/logo.png" alt="Utilities One Logo" class="logo">
                    <h1>Wireless Construction Management</h1>
                </div>
                <div class="nav-buttons">
                    <a href="index.html" class="nav-button">
                        <i class="fas fa-map"></i>
                        Map View
                    </a>
                    <a href="project-tracking.html" class="nav-button active">
                        <i class="fas fa-tasks"></i>
                        Project Tracking
                    </a>
                </div>
            </div>

            <div class="nav-right">
                <div class="profile-menu">
                    <button class="profile-button" id="profileButton">
                        <img src="assets/default-avatar.png" alt="Profile" class="profile-avatar">
                        <span class="profile-name">John Doe</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <a href="profile-settings.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-user"></i>
                            Profile Settings
                        </a>
                        <a href="notifications.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-bell"></i>
                            Notifications
                        </a>
                        <a href="account-settings.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-cog"></i>
                            Account Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="login.html" class="profile-dropdown-item text-danger">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Metrics Bar -->
        <div class="metrics-bar">
            <div class="metric">
                <span class="metric-label">Active Sites</span>
                <span class="metric-value" id="total-sites">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Equipment Available</span>
                <span class="metric-value" id="equipment-health">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Construction Teams</span>
                <span class="metric-value" id="total-teams">--</span>
            </div>
        </div>

        <!-- Project Grid -->
        <div class="content-container">
            <!-- Region Summary Cards -->
            <div class="region-summary">
                <div class="project-card summary-card">
                    <h2>Pacific Northwest</h2>
                    <div class="project-stats">
                        <div class="stat">
                            <span class="stat-label">Active Projects</span>
                            <span class="stat-value">15</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Completion Rate</span>
                            <span class="stat-value">87%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Equipment Deployed</span>
                            <span class="stat-value">42</span>
                        </div>
                    </div>
                </div>
                <div class="project-card summary-card">
                    <h2>Midwest Region</h2>
                    <div class="project-stats">
                        <div class="stat">
                            <span class="stat-label">Active Projects</span>
                            <span class="stat-value">23</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Completion Rate</span>
                            <span class="stat-value">92%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Equipment Deployed</span>
                            <span class="stat-value">56</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Project Table Section -->
            <div class="projects-section">
                <div class="table-header">
                    <h2>Project Sites</h2>
                    <div class="table-actions">
                        <input type="text" placeholder="Search projects..." class="search-input">
                        <select class="filter-select">
                            <option value="">All Regions</option>
                            <option value="pnw">Pacific Northwest</option>
                            <option value="midwest">Midwest</option>
                            <option value="northeast">Northeast</option>
                            <option value="southeast">Southeast</option>
                            <option value="southwest">Southwest</option>
                        </select>
                        <button class="add-site-button" id="addSiteButton">
                            <i class="fas fa-plus"></i> Add New Site
                        </button>
                    </div>
                </div>

                <!-- Smart Table -->
                <div class="smart-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Site ID</th>
                                <th>Project #</th>
                                <th>Site Name</th>
                                <th>Status</th>
                                <th>Customer</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projectTableBody">
                            <!-- Table rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Project Detail Modal -->
            <div id="projectDetail" class="project-detail-modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Project Details</h2>
                        <button class="close-button" onclick="closeProjectDetail()">×</button>
                    </div>
                    <div class="modal-body">
                        <!-- Project Overview Card -->
                        <div class="project-overview-card">
                            <div class="card-header">
                                <h3 id="detail-project-title">Project Title</h3>
                                <span class="status-badge" id="detail-status-badge">Status</span>
                            </div>
                            <div class="card-stats">
                                <div class="stat">
                                    <span class="stat-label">Progress</span>
                                    <div class="progress-bar">
                                        <div class="progress" id="detail-progress"></div>
                                    </div>
                                    <span class="stat-value" id="detail-progress-value">0%</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Team Size</span>
                                    <span class="stat-value" id="detail-team-size">--</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Days Left</span>
                                    <span class="stat-value" id="detail-days-left">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Project Details Grid -->
                        <div class="detail-grid">
                            <!-- Basic Information -->
                            <div class="detail-section">
                                <h3>Basic Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Site ID:</span>
                                    <span class="detail-value" id="detail-siteId"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Project Number:</span>
                                    <span class="detail-value" id="detail-projectNumber"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PO Site ID:</span>
                                    <span class="detail-value" id="detail-poSiteId"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Site Name:</span>
                                    <span class="detail-value" id="detail-siteName"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Site Address:</span>
                                    <span class="detail-value" id="detail-siteAddress"></span>
                                </div>
                            </div>

                            <!-- Project Specifications -->
                            <div class="detail-section">
                                <h3>Project Specifications</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Scope of Work:</span>
                                    <span class="detail-value" id="detail-scopeOfWork"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Structure Type:</span>
                                    <span class="detail-value" id="detail-structureType"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Customer:</span>
                                    <span class="detail-value" id="detail-customer"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Subcontractor Crew:</span>
                                    <span class="detail-value" id="detail-subcontractor"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PO Status:</span>
                                    <span class="detail-value" id="detail-poStatus"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Permits:</span>
                                    <span class="detail-value" id="detail-permits"></span>
                                </div>
                            </div>

                            <!-- Timeline Information -->
                            <div class="detail-section">
                                <h3>Timeline Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Forecasted Start:</span>
                                    <span class="detail-value" id="detail-forecastedStart"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Actual Start:</span>
                                    <span class="detail-value" id="detail-actualStart"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Forecasted Finish:</span>
                                    <span class="detail-value" id="detail-forecastedFinish"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Actual Finish:</span>
                                    <span class="detail-value" id="detail-actualFinish"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Project Timeline -->
                        <div class="project-timeline-card">
                            <div class="section-header">
                                <h3>Project Milestones</h3>
                                <button class="add-button" onclick="addMilestone()">
                                    <i class="fas fa-plus"></i> Add Milestone
                                </button>
                            </div>
                            <div class="timeline" id="detail-timeline">
                                <!-- Timeline items will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Bill of Materials -->
                        <div class="materials-section">
                            <div class="section-header">
                                <h3>Bill of Materials</h3>
                                <button class="add-button" onclick="addMaterial()">
                                    <i class="fas fa-plus"></i> Add Material
                                </button>
                            </div>
                            <div class="materials-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Quantity</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="materials-list">
                                        <!-- Materials will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Task Management -->
                        <div class="tasks-section">
                            <div class="section-header">
                                <h3>Tasks</h3>
                                <button class="add-button" onclick="addTask()">
                                    <i class="fas fa-plus"></i> Add Task
                                </button>
                            </div>
                            <div class="tasks-grid" id="tasks-list">
                                <!-- Tasks will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Edit Buttons -->
                        <div class="modal-footer">
                            <button class="secondary-button" onclick="closeProjectDetail()">Close</button>
                            <button class="primary-button" onclick="editProject()">Edit Project</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add New Site Modal -->
            <div id="addSiteModal" class="modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Add New Project Site</h2>
                        <button class="close-button" id="closeSiteModal">×</button>
                    </div>
                    <div class="modal-body">
                        <!-- Form Customization Section -->
                        <div class="form-customization">
                            <h3>Customize Form Fields</h3>
                            <p class="form-helper">Select which fields to include in your project site form:</p>
                            
                            <div class="field-toggles">
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-customer" checked disabled>
                                    <label for="field-customer">Customer (Required)</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-site-name" checked disabled>
                                    <label for="field-site-name">Site Name (Required)</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-region" checked disabled>
                                    <label for="field-region">Region (Required)</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-status" checked disabled>
                                    <label for="field-status">Status (Required)</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-dates" checked>
                                    <label for="field-dates">Start/End Dates</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-budget" checked>
                                    <label for="field-budget">Budget Information</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-equipment" checked>
                                    <label for="field-equipment">Equipment Requirements</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-team" checked>
                                    <label for="field-team">Team Assignment</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-location" checked>
                                    <label for="field-location">Location Details</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-milestones">
                                    <label for="field-milestones">Milestones</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-documents">
                                    <label for="field-documents">Document Attachments</label>
                                </div>
                                <div class="field-toggle">
                                    <input type="checkbox" id="field-notes">
                                    <label for="field-notes">Additional Notes</label>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button class="secondary-button" id="resetFormFields">Reset to Default</button>
                                <button class="primary-button" id="applyFormFields">Apply Selection</button>
                            </div>
                        </div>
                        
                        <!-- Project Site Form -->
                        <form id="newSiteForm">
                            <!-- Required Fields Section -->
                            <div class="form-section">
                                <h3>Required Information</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="site-id">Site ID</label>
                                        <input type="text" id="site-id" name="site-id" required placeholder="Auto-generated" disabled>
                                    </div>
                                    <div class="form-group">
                                        <label for="project-number">Project Number</label>
                                        <input type="text" id="project-number" name="project-number" required>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="site-name">Site Name</label>
                                        <input type="text" id="site-name" name="site-name" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="customer">Customer</label>
                                        <select id="customer" name="customer" required>
                                            <option value="">Select Customer</option>
                                            <option value="verizon">Verizon</option>
                                            <option value="att">AT&T</option>
                                            <option value="tmobile">T-Mobile</option>
                                            <option value="sprint">Sprint</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="region">Region</label>
                                        <select id="region" name="region" required>
                                            <option value="">Select Region</option>
                                            <option value="pnw">Pacific Northwest</option>
                                            <option value="midwest">Midwest</option>
                                            <option value="northeast">Northeast</option>
                                            <option value="southeast">Southeast</option>
                                            <option value="southwest">Southwest</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="status">Status</label>
                                        <select id="status" name="status" required>
                                            <option value="">Select Status</option>
                                            <option value="planning">Planning</option>
                                            <option value="in-progress">In Progress</option>
                                            <option value="on-hold">On Hold</option>
                                            <option value="completed">Completed</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Dates -->
                            <div class="form-section" id="section-dates">
                                <h3>Project Dates</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="start-date">Start Date</label>
                                        <input type="date" id="start-date" name="start-date">
                                    </div>
                                    <div class="form-group">
                                        <label for="end-date">End Date</label>
                                        <input type="date" id="end-date" name="end-date">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Budget -->
                            <div class="form-section" id="section-budget">
                                <h3>Budget Information</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="total-budget">Total Budget</label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-dollar-sign"></i>
                                            <input type="number" id="total-budget" name="total-budget" min="0" step="1000">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="budget-spent">Budget Spent</label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-dollar-sign"></i>
                                            <input type="number" id="budget-spent" name="budget-spent" min="0" step="1000">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Equipment -->
                            <div class="form-section" id="section-equipment">
                                <h3>Equipment Requirements</h3>
                                
                                <div class="form-row">
                                    <div class="form-group full-width">
                                        <label>Required Equipment</label>
                                        <div class="checkbox-group">
                                            <div class="checkbox-item">
                                                <input type="checkbox" id="eq-tower" name="equipment[]" value="tower">
                                                <label for="eq-tower">Tower</label>
                                            </div>
                                            <div class="checkbox-item">
                                                <input type="checkbox" id="eq-antenna" name="equipment[]" value="antenna">
                                                <label for="eq-antenna">Antenna</label>
                                            </div>
                                            <div class="checkbox-item">
                                                <input type="checkbox" id="eq-generator" name="equipment[]" value="generator">
                                                <label for="eq-generator">Generator</label>
                                            </div>
                                            <div class="checkbox-item">
                                                <input type="checkbox" id="eq-cables" name="equipment[]" value="cables">
                                                <label for="eq-cables">Cables</label>
                                            </div>
                                            <div class="checkbox-item">
                                                <input type="checkbox" id="eq-shelter" name="equipment[]" value="shelter">
                                                <label for="eq-shelter">Shelter</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Team -->
                            <div class="form-section" id="section-team">
                                <h3>Team Assignment</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="project-manager">Project Manager</label>
                                        <select id="project-manager" name="project-manager">
                                            <option value="">Select Manager</option>
                                            <option value="john-doe">John Doe</option>
                                            <option value="jane-smith">Jane Smith</option>
                                            <option value="mike-johnson">Mike Johnson</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="team-size">Team Size</label>
                                        <input type="number" id="team-size" name="team-size" min="1" max="50">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Location -->
                            <div class="form-section" id="section-location">
                                <h3>Location Details</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="address">Address</label>
                                        <input type="text" id="address" name="address">
                                    </div>
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" id="city" name="city">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="state">State</label>
                                        <input type="text" id="state" name="state">
                                    </div>
                                    <div class="form-group">
                                        <label for="zip">ZIP Code</label>
                                        <input type="text" id="zip" name="zip">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="latitude">Latitude</label>
                                        <input type="text" id="latitude" name="latitude" placeholder="e.g. 47.6062">
                                    </div>
                                    <div class="form-group">
                                        <label for="longitude">Longitude</label>
                                        <input type="text" id="longitude" name="longitude" placeholder="e.g. -122.3321">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Milestones -->
                            <div class="form-section hidden" id="section-milestones">
                                <h3>Project Milestones</h3>
                                
                                <div id="milestones-container">
                                    <div class="milestone-item">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Milestone Name</label>
                                                <input type="text" name="milestone-name[]">
                                            </div>
                                            <div class="form-group">
                                                <label>Target Date</label>
                                                <input type="date" name="milestone-date[]">
                                            </div>
                                            <div class="form-group milestone-actions">
                                                <button type="button" class="icon-button remove-milestone">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" class="secondary-button" id="add-milestone">
                                    <i class="fas fa-plus"></i> Add Milestone
                                </button>
                            </div>
                            
                            <!-- Optional Fields - Documents -->
                            <div class="form-section hidden" id="section-documents">
                                <h3>Document Attachments</h3>
                                
                                <div class="form-row">
                                    <div class="form-group full-width">
                                        <label for="document-upload">Upload Documents</label>
                                        <div class="file-upload-container">
                                            <input type="file" id="document-upload" name="documents[]" multiple>
                                            <label for="document-upload" class="file-upload-label">
                                                <i class="fas fa-cloud-upload-alt"></i>
                                                <span>Drag files here or click to browse</span>
                                            </label>
                                        </div>
                                        <div class="upload-preview" id="upload-preview"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Optional Fields - Notes -->
                            <div class="form-section hidden" id="section-notes">
                                <h3>Additional Notes</h3>
                                
                                <div class="form-row">
                                    <div class="form-group full-width">
                                        <label for="notes">Notes</label>
                                        <textarea id="notes" name="notes" rows="4"></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Form Submission -->
                            <div class="form-actions">
                                <button type="button" class="secondary-button" id="cancelSiteForm">Cancel</button>
                                <button type="submit" class="primary-button">Create Project Site</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
    <script src="project-tracking.js"></script>
</body>
</html>
