<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Tracking - Wireless Construction Management</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <div class="logo-title">
                    <img src="assets/logo.png" alt="Utilities One Logo" class="logo">
                    <h1>Wireless Construction Management</h1>
                </div>
                <div class="nav-buttons">
                    <a href="index.html" class="nav-button">
                        <i class="fas fa-map"></i>
                        Map View
                    </a>
                    <a href="project-tracking.html" class="nav-button active">
                        <i class="fas fa-tasks"></i>
                        Project Tracking
                    </a>
                </div>
            </div>

            <div class="nav-right">
                <div class="profile-menu">
                    <button class="profile-button" id="profileButton">
                        <img src="assets/default-avatar.png" alt="Profile" class="profile-avatar">
                        <span class="profile-name">John Doe</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <a href="profile-settings.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-user"></i>
                            Profile Settings
                        </a>
                        <a href="notifications.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-bell"></i>
                            Notifications
                        </a>
                        <a href="account-settings.html" class="profile-dropdown-item" target="_blank">
                            <i class="fas fa-cog"></i>
                            Account Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="login.html" class="profile-dropdown-item text-danger">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Metrics Bar -->
        <div class="metrics-bar">
            <div class="metric">
                <span class="metric-label">Active Sites</span>
                <span class="metric-value" id="total-sites">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Equipment Available</span>
                <span class="metric-value" id="equipment-health">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Construction Teams</span>
                <span class="metric-value" id="total-teams">--</span>
            </div>
        </div>

        <!-- Project Grid -->
        <div class="content-container">
            <!-- Region Summary Cards -->
            <div class="region-summary">
                <div class="project-card summary-card">
                    <h2>Pacific Northwest</h2>
                    <div class="project-stats">
                        <div class="stat">
                            <span class="stat-label">Active Projects</span>
                            <span class="stat-value">15</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Completion Rate</span>
                            <span class="stat-value">87%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Equipment Deployed</span>
                            <span class="stat-value">42</span>
                        </div>
                    </div>
                </div>
                <div class="project-card summary-card">
                    <h2>Midwest Region</h2>
                    <div class="project-stats">
                        <div class="stat">
                            <span class="stat-label">Active Projects</span>
                            <span class="stat-value">23</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Completion Rate</span>
                            <span class="stat-value">92%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Equipment Deployed</span>
                            <span class="stat-value">56</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Project Table Section -->
            <div class="projects-section">
                <div class="table-header">
                    <h2>Project Sites</h2>
                    <div class="table-actions">
                        <input type="text" placeholder="Search projects..." class="search-input">
                        <select class="filter-select">
                            <option value="">All Regions</option>
                            <option value="pnw">Pacific Northwest</option>
                            <option value="midwest">Midwest</option>
                        </select>
                    </div>
                </div>

                <!-- Smart Table -->
                <div class="smart-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Site ID</th>
                                <th>Project #</th>
                                <th>Site Name</th>
                                <th>Status</th>
                                <th>Customer</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projectTableBody">
                            <!-- Table rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Project Detail Modal -->
            <div id="projectDetail" class="project-detail-modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Project Details</h2>
                        <button class="close-button" onclick="closeProjectDetail()">Ã—</button>
                    </div>
                    <div class="modal-body">
                        <!-- Project Overview Card -->
                        <div class="project-overview-card">
                            <div class="card-header">
                                <h3 id="detail-project-title">Project Title</h3>
                                <span class="status-badge" id="detail-status-badge">Status</span>
                            </div>
                            <div class="card-stats">
                                <div class="stat">
                                    <span class="stat-label">Progress</span>
                                    <div class="progress-bar">
                                        <div class="progress" id="detail-progress"></div>
                                    </div>
                                    <span class="stat-value" id="detail-progress-value">0%</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Team Size</span>
                                    <span class="stat-value" id="detail-team-size">--</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Days Left</span>
                                    <span class="stat-value" id="detail-days-left">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Project Details Grid -->
                        <div class="detail-grid">
                            <!-- Basic Information -->
                            <div class="detail-section">
                                <h3>Basic Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Site ID:</span>
                                    <span class="detail-value" id="detail-siteId"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Project Number:</span>
                                    <span class="detail-value" id="detail-projectNumber"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PO Site ID:</span>
                                    <span class="detail-value" id="detail-poSiteId"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Site Name:</span>
                                    <span class="detail-value" id="detail-siteName"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Site Address:</span>
                                    <span class="detail-value" id="detail-siteAddress"></span>
                                </div>
                            </div>

                            <!-- Project Specifications -->
                            <div class="detail-section">
                                <h3>Project Specifications</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Scope of Work:</span>
                                    <span class="detail-value" id="detail-scopeOfWork"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Structure Type:</span>
                                    <span class="detail-value" id="detail-structureType"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Customer:</span>
                                    <span class="detail-value" id="detail-customer"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Subcontractor Crew:</span>
                                    <span class="detail-value" id="detail-subcontractor"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PO Status:</span>
                                    <span class="detail-value" id="detail-poStatus"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Permits:</span>
                                    <span class="detail-value" id="detail-permits"></span>
                                </div>
                            </div>

                            <!-- Timeline Information -->
                            <div class="detail-section">
                                <h3>Timeline Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Forecasted Start:</span>
                                    <span class="detail-value" id="detail-forecastedStart"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Actual Start:</span>
                                    <span class="detail-value" id="detail-actualStart"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Forecasted Finish:</span>
                                    <span class="detail-value" id="detail-forecastedFinish"></span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Actual Finish:</span>
                                    <span class="detail-value" id="detail-actualFinish"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Project Timeline -->
                        <div class="project-timeline-card">
                            <div class="section-header">
                                <h3>Project Milestones</h3>
                                <button class="add-button" onclick="addMilestone()">
                                    <i class="fas fa-plus"></i> Add Milestone
                                </button>
                            </div>
                            <div class="timeline" id="detail-timeline">
                                <!-- Timeline items will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Bill of Materials -->
                        <div class="materials-section">
                            <div class="section-header">
                                <h3>Bill of Materials</h3>
                                <button class="add-button" onclick="addMaterial()">
                                    <i class="fas fa-plus"></i> Add Material
                                </button>
                            </div>
                            <div class="materials-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Quantity</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="materials-list">
                                        <!-- Materials will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Task Management -->
                        <div class="tasks-section">
                            <div class="section-header">
                                <h3>Tasks</h3>
                                <button class="add-button" onclick="addTask()">
                                    <i class="fas fa-plus"></i> Add Task
                                </button>
                            </div>
                            <div class="tasks-grid" id="tasks-list">
                                <!-- Tasks will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Edit Buttons -->
                        <div class="modal-footer">
                            <button class="secondary-button" onclick="closeProjectDetail()">Close</button>
                            <button class="primary-button" onclick="editProject()">Edit Project</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
    <script src="project-tracking.js"></script>
</body>
</html>
